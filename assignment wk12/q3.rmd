---
  title: "Linear Conditional Expectation"
output: 'pdf_document'  
classoption: landscape
fontsize: 12pt
---

```{r setup, include=FALSE, warning=FALSE, message=FALSE}
library(tidyverse)
library(wooldridge)
library(car)
library(lmtest)
library(sandwich)
library(stargazer)
```

## Compare the predicted and residuals of model

The regression we are analysing is the following: $ln(views)=β_0 + β_1 rate + β_3 length$

```{r Create the model, message=FALSE, echo=FALSE}
youtube_data <- read.table(file = "videos.txt", sep = "\t", header = TRUE)
youtube_model = lm(views ~ rate + length, data = youtube_data)
```

```{r Create graph of residuals vs predicted, echo=FALSE, message=FALSE}
youtube_resid <- resid(youtube_model)
youtube_pred <- predict(youtube_model)
plot(youtube_pred, youtube_resid, main = "Residual Plot",
     xlab = "Predicted Values", ylab = "Residuals")
abline(h = 0, col = "red", lty = 2)
```

The above plot has some visual indication of a cluster in the range of 10,000 to 13,000 in the Predicted Values, where ther Residual values range from 0 to 50,000. This is a violation of the LCE (Linear Conditional Expectation)

There is also some exponential pattern rising from 0 to 12,000 in the Predicted Values range, however this seems to cut off from this approximate point onwards. This can also indicate another violation of the LCE.